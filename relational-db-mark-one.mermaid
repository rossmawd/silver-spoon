erDiagram

    USERS {
        int user_id PK
        string email
        string first_name
        string last_name
        datetime createdAt
    }
    
    ROLES {
        int role_id PK
        string role_name
        datetime createdAt
    }
    
    USERROLES {
        int user_role_id PK
        int user_id FK
        int role_id FK
        datetime createdAt
    }
    
    EVENTS {
        int event_id PK
        string name
        datetime date_time
        int venue_id FK
        string status
        int owner_id FK
        boolean is_private
        int capacity
        datetime createdAt
    }
    
    VENUES {
        int venue_id PK
        string name
        float latitude
        float longitude
        string address1
        string address2
        string postcode
        boolean is_private
        int capacity
        int owner_id FK
        datetime createdAt
    }
    
    COMMENTS {
        int comment_id PK
        int event_id FK
        int user_id FK
        int parent_comment_id FK
        datetime time
        string text
        datetime createdAt
    }
    
    COMMENTREACTIONS {
        int id PK
        int comment_id FK
        int user_id FK
        string emoji
        datetime createdAt
    }
    
    VENUEEVENTS {
        int id PK
        int venue_id FK
        int event_id FK
        datetime event_date_time
        datetime createdAt
    }

    USERS ||--o{ USERROLES: "user has many user-roles"
    ROLES ||--o{ USERROLES: "has many"
    USERS ||--o{ EVENTS: "owns"
    USERS ||--o{ VENUES: "owns"
    USERS ||--o{ COMMENTS: "makes many"
    USERS ||--o{ COMMENTREACTIONS: "makes many"
    EVENTS ||--o{ COMMENTS: "has many"
    EVENTS ||--o{ VENUEEVENTS: "occurs at many"
    COMMENTS ||--o{ COMMENTREACTIONS: "receives many"
    COMMENTS ||--o{ COMMENTS: "parent comment has many children"
    VENUES ||--o{ VENUEEVENTS: "hosts many"
